# 对齐阶段（ALIGNMENT）- 项目与人员看板定位增强

## 原始需求
- 在项目与人员看板（时间轴视图）中：
  1）增加“今日”的竖线（红色），用于快速定位今天位置。
  2）增加“本周”的阴影背景（半透明，颜色自定），用于快速识别本周范围。

## 项目上下文分析
- 前端：React + Vite + Ant Design；时间轴组件位于 `frontend/src/components/Timeline`。
- 已有：月份刻度（`TimelineHeader`）、周刻度网格（`TimelineGrid`）、泳道与项目块（`Swimlane` / `ProjectBar`）。
- 日期工具：`frontend/src/utils/dateUtils.js`，提供基础时间轴参数与网格计算。

## 任务范围与边界
- 仅影响时间轴视图（进度看板与人员看板共享时间轴）。
- 日历视图无需改动（已有“今天”高亮样式）。
- 颜色可自定，默认：红线 `#ff4d4f`；阴影 `rgba(24,144,255,0.12)`。
- 需随滚动同步、并与自定义时间范围兼容（不在范围时不展示）。

## 需求理解
- 今日线：竖向绝对定位，显示在项目块之上，指示当前日期；边界：如果当前日期超出时间轴范围则隐藏。
- 本周阴影：覆盖本周7天的背景矩形，位于项目块之下，与周刻度共存；进行像素级边界裁剪以避免越界。

## 疑问澄清
- 阴影颜色是否需要用户可配置？当前先固定色值，后续如需配置可在设置中扩展。
- 周起始日：采用 dayjs 默认（周日为一周开始），如需切换到周一可后续加入设置项。

## 智能决策策略
- 复用现有结构：在 `TimelineGrid` 渲染阴影，在新建 `TimelineOverlay` 渲染今日线，确保层级与交互。
- 日期计算集中在 `dateUtils`，新增两个纯函数：`generateTodayOffset`、`generateCurrentWeekHighlightRange`。

## 质量门控
- 不改变既有交互与性能；叠加层 pointer-events: none。
- 与自定义时间范围、滚动同步保持一致性。
- 新增函数与组件均提供中文函数级注释。